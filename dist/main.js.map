{"version":3,"sources":["webpack://Vision/./src/app.js"],"names":["window","onload","scrollTo","appendNavLi","idx","navCol","document","querySelector","ankLi","createElement","navLi","setAttribute","appendChild","classList","add","appendAnchor","movieContainer","getElementById","aTag","movieData","d3","json","d","title","releaseDate","rating","budget","openingWeekend","usCanadaGross","ukGross","chinaGross","japanGross","germanyGross","then","data","createVision","length","createXAxisBool","margin","top","right","bottom","left","width","height","Object","values","slice","numberOfColumns","x_axisLength","targetSVG","targetSlideRect","xScale","scaleLinear","domain","range","yScale","svg","select","append","attr","xAxis","axisBottom","scale","tickSize","tickFormat","keys","formatValue","format","yAxis","axisLeft","ticks","tickCount","transition","duration","call","selectAll","text","style","enter","i","defs","gradient","addEventListener","e","obsSlides","movContainer","movSlide","push","createObs","slides","options","root","rootMargin","threshold","renderSlide","slide","handleScroll","entries","observer","forEach","entry","isIntersecting","remove","tooltip","querySelectorAll","rect","navCircle","IntersectionObserver","observe"],"mappings":"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","file":"./dist/main.js","sourcesContent":["window.onload = function () {\n  window.scrollTo(0, 0)\n}\n\n// window.onbeforeunload = function () {\n//   return 'Is this Working?'\n// }\n\nconst appendNavLi = (idx) => {\n  let navCol = document.querySelector('.viz-nav')\n  let ankLi = document.createElement('a')\n  let navLi = document.createElement('li')\n\n  ankLi.setAttribute('href', `#anchor-${idx}`)\n  navCol.appendChild(ankLi)\n  navLi.setAttribute('id', `viz-nav-li-${idx}`)\n  navLi.classList.add('viz-nav-li')\n  ankLi.appendChild(navLi)\n}\n\nconst appendAnchor = (idx) => {\n  let movieContainer = document.getElementById(`movie-container-${idx}`)\n  let aTag = document.createElement('a')\n\n  aTag.setAttribute('id', `anchor-${idx}`)\n  aTag.classList.add('anchor')\n  movieContainer.appendChild(aTag)\n}\n\nlet movieData\nd3.json('movies.json', (d) => {\n  return {\n    title: d['Title'],\n    releaseDate: d['Release Date'],\n    rating: d['Rating'],\n    budget: d['Budget'],\n    openingWeekend: d['World Gross'],\n    usCanadaGross: d['US & Canada Gross'],\n    ukGross: d['United Kingdom Gross\"'],\n    chinaGross: d['China Gross'],\n    japanGross: d['Japan Gross'],\n    germanyGross: d['Germany Gross'],\n  }\n}).then((data) => {\n  movieData = data\n\n  createVision(movieData[0], 0, true)\n  appendNavLi(0)\n  appendAnchor(0)\n\n  for (let idx = 1; idx < movieData.length; idx++) {\n    createVision(movieData[idx], idx)\n    appendNavLi(idx)\n    appendAnchor(idx)\n  }\n})\n\nconst createVision = (movieData, idx, createXAxisBool) => {\n  let margin = { top: 10, right: 40, bottom: 25, left: 60 }\n  let width = 600 - margin.left - margin.right\n  let height = 449 - margin.top - margin.bottom\n  let data = Object.values(movieData).slice(3)\n  let numberOfColumns = 8\n\n  let x_axisLength = width\n  let targetSVG = 'slide-svg-' + idx\n  let targetSlideRect = 'slide-svg-' + idx + '-rect'\n\n  let xScale = d3.scaleLinear().domain([0, numberOfColumns]).range([15, width])\n\n  // let yScale = d3.scaleLinear().domain([6, 0]).range([250, 400])\n  // let yScale = d3.scaleLinear().domain([6, 0]).range([100, 400])\n  // let yScale = d3.scaleLinear().domain([7, 0]).range([300, 400])\n  let yScale = d3.scaleLinear().domain([9, 0]).range([25, 400])\n  // let yScale = d3.scaleLinear().domain([9, 0]).range([25, 400])\n\n  let svg = d3\n    .select('#vision')\n    .append('svg')\n    .attr('class', `${targetSVG} hidden`)\n    .attr('viewBox', `0 0 375 750`)\n    // .attr('viewBox', `0 0 650 700`)\n    .attr('preserveAspectRatio', 'xMinYMin meet')\n\n  let xAxis = d3\n    .axisBottom()\n    .scale(xScale)\n    .tickSize(5)\n    .tickFormat(function (d) {\n      return Object.keys(movieData).slice(3)[d]\n    })\n\n  formatValue = d3.format('.1s')\n  let yAxis = d3\n    .axisLeft(yScale)\n    .ticks(4)\n    .tickFormat((tickCount) => {\n      // return tickCount + 'million'\n      return formatValue(tickCount) + '00 million'\n    })\n\n  svg\n    .append('g')\n    .attr('class', `${targetSVG}-x-axis x-axis`)\n    .attr(\n      'transform',\n      'translate(' + margin.left + ', ' + (height - margin.top) + ')'\n      // 'translate(' + margin.left + ', ' + (height - margin.top) + ')'\n    )\n    .transition()\n    .duration(3000)\n    .call(xAxis)\n\n  svg.selectAll('.x-axis text').attr('transform', function (d) {\n    return 'translate(10, 23)rotate(-30)'\n    // return 'translate(10, 25)rotate(-45)'\n  })\n\n  // svg\n  //   .append('text')\n  //   .text('Vision Data Visualization Project')\n  //   .attr('transform', 'rotate(-90)')\n  //   .attr('class', 'y-axis-label')\n  //   .attr('y', -10)\n  //   .attr('x', 10 - height / 2)\n  //   .attr('dy', '1em')\n  //   .style('text-anchor', 'middle')\n\n  svg\n    .append('text')\n    .text('Source: IMDbPro')\n    .attr('class', 'source-text')\n    .attr('transform', 'translate(35, ' + (height + margin.top + 75) + ')')\n    .style('text-anchor', 'left')\n\n  svg\n    .append('g')\n    .attr('class', `${targetSVG}-y-axis y-axis`)\n    .attr('transform', 'translate(' + margin.left + ',0)')\n    .style('opacity', '0%')\n    .call(yAxis)\n\n  svg\n    .selectAll('rect')\n    .data(data)\n    .enter()\n    .append('rect')\n    .attr('class', `${targetSlideRect}`)\n    .attr('x', function (d, i) {\n      // return i * (x_axisLength / numberOfColumns) + margin.left + 12\n      return i * (x_axisLength / numberOfColumns) + margin.left + 13.5\n    })\n    .attr('y', function (d) {\n      return yScale(d / 100)\n    })\n    .attr('width', x_axisLength / numberOfColumns - 1)\n    .attr('height', function (d) {\n      return height - yScale(d / 100) - margin.top\n    })\n    .transition()\n    .duration(500)\n\n  let defs = svg.append('defs')\n\n  let gradient = defs\n    .append('linearGradient')\n    .attr('id', 'svgGradient')\n    .attr('x1', '0%')\n    .attr('x2', '100%')\n    .attr('y1', '0%')\n    .attr('y2', '100%')\n\n  gradient\n    .append('stop')\n    .attr('class', 'start')\n    .attr('offset', '0%')\n    .attr('stop-color', 'rgb(214,183,33)')\n    .attr('stop-opacity', 2)\n\n  gradient\n    .append('stop')\n    .attr('class', 'end')\n    .attr('offset', '100%')\n    .attr('stop-color', 'rgb(31,131,51)')\n    .attr('stop-opacity', 2)\n}\n\nwindow.addEventListener(\n  'load',\n  (e) => {\n    let obsSlides = []\n    for (let i = 0; i <= movieData.length; i++) {\n      let movContainer = '#movie-container-' + i\n      let movSlide = document.querySelector(movContainer)\n      obsSlides.push(movSlide)\n    }\n    createObs(obsSlides)\n  },\n  false\n)\n\nconst createObs = (slides) => {\n  let options = {\n    root: null,\n    rootMargin: '0px 0px 0px 0px',\n    threshold: 0.9,\n  }\n\n  for (let i = 0; i < slides.length - 1; i++) {\n    renderSlide(options, slides[i], i)\n  }\n}\n\n// -------------- SLIDES ------------\n\nconst renderSlide = (options, slide, idx) => {\n  const handleScroll = (entries, observer) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        document.querySelector(`.slide-svg-${idx}`).classList.remove('hidden')\n\n        let tooltip = d3\n          .select('body')\n          .append('div')\n          .style('position', 'absolute')\n          .style('font-size', '12px')\n          .style('z-index', '10')\n          .style('visibility', 'hidden')\n\n        if (document.querySelector(`.slide-svg-${idx - 1}`)) {\n          document\n            .querySelector(`.slide-svg-${idx - 1}`)\n            .classList.add('hidden')\n        }\n\n        if (document.querySelector(`.slide-svg-${idx + 1}`)) {\n          document\n            .querySelector(`.slide-svg-${idx + 1}`)\n            .classList.add('hidden')\n        }\n\n        document.querySelectorAll(`.slide-svg-${idx}-rect`).forEach((rect) => {\n          rect.classList.add('chart-rect')\n        })\n\n        d3.select(`.slide-svg-${idx}-y-axis`)\n          .transition()\n          .style('opacity', '100%')\n          .duration(500)\n\n        let navCircle = document.getElementById(`viz-nav-li-${idx}`)\n        navCircle.classList.add(`viz-nav-li-${idx}`)\n\n        if (document.querySelectorAll(`.slide-svg-${idx - 1}-rect`)) {\n          document\n            .querySelectorAll(`.slide-svg-${idx - 1}-rect`)\n            .forEach((rect) => {\n              rect.classList.remove('chart-rect')\n            })\n\n          d3.select(`.slide-svg-${idx - 1}-y-axis`)\n            .transition()\n            .style('opacity', '0%')\n            .duration(500)\n        }\n\n        if (document.getElementById(`viz-nav-li-${idx - 1}`)) {\n          document\n            .getElementById(`viz-nav-li-${idx - 1}`)\n            .classList.remove(`viz-nav-li-${idx - 1}`)\n        }\n\n        if (document.querySelectorAll(`.slide-svg-${idx + 1}-rect`)) {\n          document\n            .querySelectorAll(`.slide-svg-${idx + 1}-rect`)\n            .forEach((rect) => {\n              rect.classList.remove('chart-rect')\n            })\n\n          d3.select(`.slide-svg-${idx + 1}-y-axis`)\n            .transition()\n            .style('opacity', '0%')\n            .duration(500)\n\n          document\n            .getElementById(`viz-nav-li-${idx + 1}`)\n            .classList.remove(`viz-nav-li-${idx + 1}`)\n        }\n      }\n    })\n  }\n\n  let observer = new IntersectionObserver(handleScroll, options)\n  observer.observe(slide)\n}\n"],"sourceRoot":""}