{"version":3,"sources":["webpack://Vision/./src/app.js"],"names":["appendNavLi","idx","navCol","document","querySelector","ankLi","createElement","navLi","setAttribute","appendChild","classList","add","appendAnchor","movieContainer","getElementById","aTag","addEventListener","e","renderSlide","options","slide","handleScroll","entries","obs","forEach","entry","isIntersecting","remove","querySelectorAll","rect","d3","select","transition","style","duration","navCircle","observer","IntersectionObserver","observe","createObs","containers","root","rootMargin","threshold","i","length","movieData","json","d","title","releaseDate","rating","budget","openingWeekend","usCanadaGross","ukGross","chinaGross","japanGross","germanyGross","then","data","createVision","window","obsContainers","movContainer","movSlide","push","margin","top","right","bottom","left","width","height","Object","values","slice","numberOfColumns","x_axisLength","targetSVG","targetSlideRect","xScale","scaleLinear","domain","range","yScale","svg","append","attr","xAxis","axisBottom","scale","tickSize","tickFormat","keys","formatValue","format","yAxis","axisLeft","ticks","tickCount","call","selectAll","text","enter","defs","gradient"],"mappings":"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","file":"./dist/main.js","sourcesContent":["const appendNavLi = (idx) => {\n  let navCol = document.querySelector('.viz-nav')\n  let ankLi = document.createElement('a')\n  let navLi = document.createElement('li')\n\n  ankLi.setAttribute('href', `#anchor-${idx}`)\n  navCol.appendChild(ankLi)\n  navLi.setAttribute('id', `viz-nav-li-${idx}`)\n  navLi.classList.add('viz-nav-li')\n  ankLi.appendChild(navLi)\n}\n\nconst appendAnchor = (idx) => {\n  let movieContainer = document.getElementById(`movie-container-${idx}`)\n  let aTag = document.createElement('a')\n\n  aTag.setAttribute('id', `anchor-${idx}`)\n  aTag.classList.add('anchor')\n  movieContainer.appendChild(aTag)\n}\n\ndocument.addEventListener('DOMContentLoaded', function (e) {\n  const renderSlide = (options, slide, idx) => {\n    const handleScroll = (entries, obs) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          document.querySelector(`.slide-svg-${idx}`).classList.remove('hidden')\n\n          if (document.querySelector(`.slide-svg-${idx - 1}`)) {\n            document\n              .querySelector(`.slide-svg-${idx - 1}`)\n              .classList.add('hidden')\n          }\n\n          if (document.querySelector(`.slide-svg-${idx + 1}`)) {\n            document\n              .querySelector(`.slide-svg-${idx + 1}`)\n              .classList.add('hidden')\n          }\n\n          document\n            .querySelectorAll(`.slide-svg-${idx}-rect`)\n            .forEach((rect) => {\n              rect.classList.add('bar-rect')\n            })\n\n          d3.select(`.slide-svg-${idx}-y-axis`)\n            .transition()\n            .style('opacity', '100%')\n            .duration(500)\n\n          let navCircle = document.getElementById(`viz-nav-li-${idx}`)\n          navCircle.classList.add(`viz-nav-li-${idx}`)\n\n          if (document.querySelectorAll(`.slide-svg-${idx - 1}-rect`)) {\n            document\n              .querySelectorAll(`.slide-svg-${idx - 1}-rect`)\n              .forEach((rect) => {\n                rect.classList.remove('bar-rect')\n              })\n\n            d3.select(`.slide-svg-${idx - 1}-y-axis`)\n              .transition()\n              .style('opacity', '0%')\n              .duration(1000)\n          }\n\n          if (document.getElementById(`viz-nav-li-${idx - 1}`)) {\n            document\n              .getElementById(`viz-nav-li-${idx - 1}`)\n              .classList.remove(`viz-nav-li-${idx - 1}`)\n          }\n\n          if (document.querySelectorAll(`.slide-svg-${idx + 1}-rect`)) {\n            document\n              .querySelectorAll(`.slide-svg-${idx + 1}-rect`)\n              .forEach((rect) => {\n                rect.classList.remove('bar-rect')\n              })\n\n            d3.select(`.slide-svg-${idx + 1}-y-axis`)\n              .transition()\n              .style('opacity', '0%')\n              .duration(1000)\n\n            document\n              .getElementById(`viz-nav-li-${idx + 1}`)\n              .classList.remove(`viz-nav-li-${idx + 1}`)\n          }\n        }\n      })\n    }\n    let observer = new IntersectionObserver(handleScroll, options)\n    observer.observe(slide)\n  }\n\n  const createObs = (containers) => {\n    let options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 1.0,\n    }\n    for (let i = 0; i < containers.length - 1; i++) {\n      renderSlide(options, containers[i], i)\n    }\n  }\n\n  let movieData\n  d3.json('movies.json', (d) => {\n    return {\n      title: d['Title'],\n      releaseDate: d['Release Date'],\n      rating: d['Rating'],\n      budget: d['Budget'],\n      openingWeekend: d['World Gross'],\n      usCanadaGross: d['US & Canada Gross'],\n      ukGross: d['United Kingdom Gross\"'],\n      chinaGross: d['China Gross'],\n      japanGross: d['Japan Gross'],\n      germanyGross: d['Germany Gross'],\n    }\n  }).then((data) => {\n    movieData = data\n\n    createVision(movieData[0], 0)\n    appendNavLi(0)\n    appendAnchor(0)\n\n    for (let idx = 1; idx < movieData.length; idx++) {\n      createVision(movieData[idx], idx)\n      appendNavLi(idx)\n      appendAnchor(idx)\n    }\n  })\n\n  window.addEventListener(\n    'load',\n    (e) => {\n      let obsContainers = []\n      for (let i = 0; i <= movieData.length; i++) {\n        let movContainer = '#movie-container-' + i\n        let movSlide = document.querySelector(movContainer)\n        obsContainers.push(movSlide)\n      }\n      createObs(obsContainers)\n    },\n    false\n  )\n\n  const createVision = (movieData, idx) => {\n    let margin = { top: 10, right: 40, bottom: 25, left: 60 }\n    let width = 700 - margin.left - margin.right\n    let height = 450 - margin.top - margin.bottom\n    let data = Object.values(movieData).slice(3)\n    let numberOfColumns = 8\n\n    let x_axisLength = width\n    let targetSVG = 'slide-svg-' + idx\n    let targetSlideRect = 'slide-svg-' + idx + '-rect'\n\n    let xScale = d3\n      .scaleLinear()\n      .domain([0, numberOfColumns])\n      .range([20, width])\n\n    let yScale = d3.scaleLinear().domain([10, 0]).range([25, 400])\n\n    let svg = d3\n      .select('#vision')\n      .append('svg')\n      .attr('class', `${targetSVG} hidden`)\n      .attr('viewBox', `0 10 650 100`)\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n\n    let xAxis = d3\n      .axisBottom()\n      .scale(xScale)\n      .tickSize(0)\n      .tickFormat(function (d) {\n        return Object.keys(movieData).slice(3)[d]\n      })\n\n    let formatValue = d3.format('.1s')\n\n    let yAxis = d3\n      .axisLeft(yScale)\n      .ticks(4)\n      .tickFormat((tickCount) => {\n        switch (tickCount) {\n          case 10:\n            return '1 billion'\n            break\n          case 0:\n            return '1 million'\n          default:\n            return formatValue(tickCount) + '00 million'\n        }\n      })\n\n    svg\n      .append('g')\n      .attr('class', `${targetSVG}-x-axis x-axis`)\n      .attr(\n        'transform',\n        'translate(' + margin.left + ', ' + (height - margin.top) + ')'\n      )\n      .transition()\n      .duration(3000)\n      .call(xAxis)\n\n    svg.selectAll('.x-axis text').attr('transform', function (d) {\n      return 'translate(14, 35)rotate(-40)'\n    })\n    svg.selectAll('.x-axis text').attr('text-decoration', function (d) {\n      return 'underline'\n    })\n\n    svg\n      .append('text')\n      .text('Source: IMDbPro')\n      .attr('class', 'movie-source')\n      .attr('transform', 'translate(35, ' + (height + margin.top + 75) + ')')\n      .attr('font-size', '13px')\n      .style('text-anchor', 'right')\n\n    svg\n      .append('g')\n      .attr('class', `${targetSVG}-y-axis y-axis`)\n      .attr('transform', 'translate(' + margin.left + ',0)')\n      .style('opacity', '0%')\n      .call(yAxis)\n\n    svg\n      .selectAll('rect')\n      .data(data)\n      .enter()\n      .append('rect')\n      .attr('class', `${targetSlideRect}`)\n      .attr('x', function (d, i) {\n        return i * (x_axisLength / numberOfColumns) + margin.left + 20\n      })\n      .attr('y', function (d) {\n        return yScale(d / 100)\n      })\n      .attr('width', x_axisLength / numberOfColumns - 1)\n      .attr('height', function (d) {\n        return height - yScale(d / 100) - margin.top\n      })\n      .transition()\n      .duration(1000)\n\n    let defs = svg.append('defs')\n\n    let gradient = defs\n      .append('linearGradient')\n      .attr('id', 'svgGradient')\n      .attr('x1', '0%')\n      .attr('x2', '100%')\n      .attr('y1', '0%')\n      .attr('y2', '100%')\n\n    gradient\n      .append('stop')\n      .attr('class', 'start')\n      .attr('offset', '0%')\n      .attr('stop-color', 'rgb(214,183,33)')\n      .attr('stop-opacity', 2)\n\n    gradient\n      .append('stop')\n      .attr('class', 'end')\n      .attr('offset', '100%')\n      .attr('stop-color', 'rgb(31,131,51)')\n      .attr('stop-opacity', 2)\n  }\n})\n"],"sourceRoot":""}